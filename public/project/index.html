<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event</title>
    <link rel="stylesheet" href="./application/e-poster/css/glightbox.min.css">
    <link rel="stylesheet" href="./application/assets/css/index1000.css">
</head>
<body>
    <img class="background">
    
    <div class="content">
        <ul class="listliks" id="buttonList">
            <!-- Buttons will be dynamically inserted here -->
        </ul>
    </div>

    <script type="text/javascript" src="./application/e-poster/js/jquery.min.js"></script>
    <script type="text/javascript" src="./application/assets/js/bootstrap.min.js"></script> 
    <script src="./application/e-poster/js/swiper-bundle.min.js"></script>
    <script src="./application/e-poster/js/glightbox.min.js" id="glightbox"></script>
    <script src="./application/e-poster/js/main.js" id="main"></script>
    <script src="./application/assets/js/accueil.js"></script>

    <script>
        // Function to check if an image exists
        function imageExists(imgPath) {
            return new Promise((resolve) => {
                const img = new Image();
                img.onload = () => resolve(true);
                img.onerror = () => resolve(false);
                img.src = imgPath;
            });
        }

        // Function to generate buttons dynamically based on existing images
        async function generateButtons() {
            const buttonList = document.getElementById("buttonList");
            let buttonIndex = 1;
            const maxImages = 100; // Define a reasonable upper limit to avoid an infinite loop

            for (let i = 1; i <= maxImages; i++) {
                const imgPath = `./application/assets/items/${i}.png`;
                const exists = await imageExists(imgPath);

                if (exists) {
                    const listItem = document.createElement("li");
                    listItem.innerHTML = `
                        <a href="#" class="fixed-button" style="margin-top: 5px;">
                            <img src="${imgPath}" class="btnPoster">
                        </a>
                    `;
                    buttonList.appendChild(listItem);
                } else {
                    break; // Stop if the image doesn't exist
                }
            }
        }

        // Call the function to generate buttons
        generateButtons();
    </script>
</body>
</html>
